# ===========================================
# TURBO CHATWOOT WEBHOOK - PRODUCTION CONFIG
# ===========================================

# Application Environment
NODE_ENV=production
PORT=3000
HOSTNAME=0.0.0.0

# ===========================================
# DATABASE CONFIGURATION
# ===========================================

# PostgreSQL Database
DB_HOST=postgres
DB_PORT=5432
DB_NAME=chatwoot_webhook
DB_USER=postgres
DB_PASSWORD=your_secure_postgres_password_here

# Database Connection Pool
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000

# ===========================================
# REDIS CONFIGURATION
# ===========================================

# Redis Cache
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_DB=0

# ===========================================
# JWT & SECURITY
# ===========================================

# JWT Secret (REQUIRED - Generate a strong secret)
JWT_SECRET=your_very_secure_jwt_secret_key_here_minimum_32_characters

# JWT Expiration
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Admin Credentials (Change these!)
ADMIN_EMAIL=admin@yourdomain.com
ADMIN_PASSWORD=your_secure_admin_password_here

# ===========================================
# CHATWOOT INTEGRATION
# ===========================================

# Chatwoot API Configuration
CHATWOOT_BASE_URL=https://your-chatwoot-instance.com
CHATWOOT_ACCESS_TOKEN=your_chatwoot_access_token_here
CHATWOOT_ACCOUNT_ID=your_chatwoot_account_id_here

# Chatwoot Webhook Settings
CHATWOOT_WEBHOOK_SECRET=your_chatwoot_webhook_secret_here

# ===========================================
# DIFY AI INTEGRATION
# ===========================================

# Dify API Configuration
DIFY_API_URL=https://api.dify.ai/v1
DIFY_API_KEY=your_dify_api_key_here

# Dify App Settings
DIFY_APP_ID=your_dify_app_id_here
DIFY_USER_ID=system

# ===========================================
# TELEGRAM INTEGRATION
# ===========================================

# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_WEBHOOK_URL=https://chatwoot.turbo.vn:7070/webhook/telegram
TELEGRAM_WEBHOOK_SECRET=your_telegram_webhook_secret_here

# ===========================================
# PLATFORM MAPPINGS
# ===========================================

# Repository Type (redis|postgresql)
REPOSITORY_TYPE=redis

# Platform Mapping Settings
PLATFORM_MAPPING_CACHE_TTL=3600
PLATFORM_MAPPING_DEFAULT_TIMEOUT=30000

# ===========================================
# LOGGING & MONITORING
# ===========================================

# Log Level (error|warn|info|debug)
LOG_LEVEL=info

# Log File Path
LOG_FILE_PATH=./logs/app.log

# Metrics Configuration
METRICS_ENABLED=true
METRICS_PORT=9090

# ===========================================
# RATE LIMITING
# ===========================================

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Webhook Rate Limiting
WEBHOOK_RATE_LIMIT_WINDOW_MS=60000
WEBHOOK_RATE_LIMIT_MAX_REQUESTS=10

# ===========================================
# CORS & SECURITY
# ===========================================

# CORS Configuration
CORS_ORIGIN=https://chatwoot.turbo.vn,https://your-chatwoot-instance.com
CORS_CREDENTIALS=true

# Security Headers
HELMET_ENABLED=true
TRUST_PROXY=true

# ===========================================
# EXTERNAL SERVICES
# ===========================================

# External API Timeouts
EXTERNAL_API_TIMEOUT=30000
EXTERNAL_API_RETRY_ATTEMPTS=3
EXTERNAL_API_RETRY_DELAY=1000

# ===========================================
# DEVELOPMENT & DEBUGGING
# ===========================================

# Debug Mode (only for development)
DEBUG=false

# Request Logging
REQUEST_LOGGING=true

# ===========================================
# BACKUP & MAINTENANCE
# ===========================================

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.

# ===========================================
# SSL/TLS CONFIGURATION (for nginx)
# ===========================================

# SSL Certificate Paths (if using custom SSL)
# SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
# SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# ===========================================
# DOCKER CONFIGURATION
# ===========================================

# Docker Compose Profile
COMPOSE_PROFILE=production

# Container Resource Limits
CONTAINER_MEMORY_LIMIT=1g
CONTAINER_CPU_LIMIT=1.0

# ===========================================
# GITHUB CONTAINER REGISTRY
# ===========================================

# Docker Image Configuration
DOCKER_REGISTRY=ghcr.io
DOCKER_IMAGE_NAME=thuanpt/turbo-chatwoot-webhook
DOCKER_IMAGE_TAG=latest

# ===========================================
# DEPLOYMENT CONFIGURATION
# ===========================================

# Deployment Environment
DEPLOYMENT_ENV=production
DEPLOYMENT_VERSION=3.0.0

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# ===========================================
# NOTIFICATION SETTINGS
# ===========================================

# Email Notifications (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password_here
SMTP_FROM=noreply@yourdomain.com

# Slack Notifications (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#deployments

# ===========================================
# CUSTOM CONFIGURATIONS
# ===========================================

# Add your custom environment variables here
# CUSTOM_VAR_1=value1
# CUSTOM_VAR_2=value2
